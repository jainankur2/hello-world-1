pipeline {
      agent any
      stages{
         stage('Build artifact'){
            steps{
              sh label: 'compile-hello-world', script: 'mvn -B -f pom.xml clean install'
            }
             }
         stage('Build Image'){
             steps{
                sh label: 'build-docker-image', script: 'docker build -t jainankur2/loylogic:${BUILD_NUMBER} .'
              }
         }
         stage('Push Image'){
             steps{
                sh label: 'Push-docker-image', script: 'docker push jainankur2/loylogic:${BUILD_NUMBER}'
              }
         }

      }
      }


